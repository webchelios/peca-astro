---
interface Props {
    image: string;
    title: string;
}
const { image, title } = Astro.props;
---

<article class="card">
    <h1>{title}</h1>
    <div class="img-wrap"><img src={image} alt={title} /></div>
    <slot />
</article>

<style>
    /* Seguridad general */
    :root,
    * {
        box-sizing: border-box;
    }

    /* Contenedor de la tarjeta */
    .card {
        text-align: center;
        max-width: 20rem; /* sigue limitando ancho */
        width: 100%; /* permite que el artículo se reduzca dentro del padre */
        margin: 0 auto; /* centra el article dentro de su contenedor */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        position: relative; /* por si hay transforms o positioning en padre */
        left: 0 !important; /* fuerza no desplazamiento lateral */
        transform: none !important; /* limpia transforms residuales */
        min-width: 0; /* CRUCIAL: permite que el item se encoja dentro de un contenedor flex */
    }

    /* Encabezado */
    .card h1 {
        font-size: 1.5rem;
        margin: 0.5rem 0;
        direction: ltr;
    }

    /* Imagen: nunca desborda, respeta el ancho del card */
    .img-wrap {
        width: 100%;
        display: block;
    }

    .img-wrap img {
        width: 100%; /* ahora escala relativo al article */
        max-width: 20rem; /* mantiene la intención original en pantallas grandes */
        height: auto;
        border-radius: 1rem;
        display: block; /* evita espacios en línea */
        margin: 0 auto;
        transform: none !important; /* elimina transforms aplicados por JS si los hubiera */
    }

    /* Ajustes responsive */
    @media (max-width: 768px) {
        .card {
            max-width: 18rem; /* opcional, más cómodo en móviles */
            padding: 0 1rem; /* evita que el contenido pegue contra bordes */
        }

        .card h1 {
            font-size: 1.25rem;
        }
    }

    @media (max-width: 480px) {
        .card {
            max-width: 100%;
            padding: 0 0.75rem;
        }
        .card h1 {
            font-size: 1.05rem;
        }
        .img-wrap img {
            max-width: 100%;
        }
    }
</style>
